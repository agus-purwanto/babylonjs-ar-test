<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Babylon.js AR Example</title>
  <script src="https://cdn.babylonjs.com/babylon.js"></script>
  <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
  <script src="https://cdn.babylonjs.com/gui/babylon.gui.min.js"></script>
  <script src="https://cdn.babylonjs.com/babylon.max.js"></script>
  <style>
    html, body { width: 100%; height: 100%; margin: 0; overflow: hidden; }
    canvas { width: 100%; height: 100%; touch-action: none; }
  </style>
</head>
<body>
<canvas id="renderCanvas"></canvas>
<script>
  const canvas = document.getElementById("renderCanvas");
  const engine = new BABYLON.Engine(canvas, true);

  const createScene = async function () {
    const scene = new BABYLON.Scene(engine);

    // Light
    const light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(0, 1, 0), scene);

    // AR experience
    const xr = await scene.createDefaultXRExperienceAsync({
      uiOptions: {
        sessionMode: "immersive-ar",
        referenceSpaceType: "local-floor"
      },
      optionalFeatures: true
    });

    // A floating sphere
    const sphere = BABYLON.MeshBuilder.CreateSphere("sphere", {diameter: 0.2}, scene);
    sphere.position = new BABYLON.Vector3(0, 0.2, -1);

    return scene;
  };

  createScene().then(scene => {
    engine.runRenderLoop(() => scene.render());
  });

  window.addEventListener("resize", () => {
    engine.resize();
  });
</script>
</body>
</html>
